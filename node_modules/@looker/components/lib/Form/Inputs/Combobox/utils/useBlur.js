"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useBlur = useBlur;

var _react = require("react");

var _state = require("./state");

function useBlur(context) {
  var {
    state,
    transition,
    listRef,
    inputElement
  } = (0, _react.useContext)(context);
  return function handleBlur() {
    requestAnimationFrame(() => {
      var popoverCurrent = listRef ? listRef.current : null;

      if (document.activeElement !== inputElement && popoverCurrent) {
        if (popoverCurrent && popoverCurrent.contains(document.activeElement)) {
          if (state !== _state.ComboboxState.INTERACTING) {
            transition && transition(_state.ComboboxActionType.INTERACT);
          }
        } else {
          transition && transition(_state.ComboboxActionType.BLUR);
        }
      }
    });
  };
}
//# sourceMappingURL=useBlur.js.map