"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useAddOptionToContext = useAddOptionToContext;

var _react = require("react");

function useAddOptionToContext(context, value, label, scrollIntoView) {
  var {
    optionsRef,
    windowedOptionsPropRef
  } = (0, _react.useContext)(context);
  var indexRef = (0, _react.useRef)(-1);
  (0, _react.useEffect)(() => {
    var option = {
      label,
      scrollIntoView,
      value
    };
    var optionsRefCurrent = optionsRef && optionsRef.current;
    var windowedOptions = windowedOptionsPropRef && windowedOptionsPropRef.current;

    if (optionsRefCurrent && !windowedOptions) {
      if (indexRef.current > -1) {
        optionsRefCurrent.splice(indexRef.current, 0, option);
      } else {
        optionsRefCurrent.push(option);
      }
    }

    return () => {
      if (optionsRefCurrent && !windowedOptions) {
        var index = optionsRefCurrent.indexOf(option);
        indexRef.current = index;
        optionsRefCurrent.splice(index, 1);
      }
    };
  }, [value, label, optionsRef, scrollIntoView, windowedOptionsPropRef]);
}
//# sourceMappingURL=useAddOptionToContext.js.map